"use strict";$(function(){function e(e,n){return e+": "+n+"<br>"}function n(e){switch(e){case 0:return"Thumb";break;case 1:return"Index";break;case 2:return"Middle";break;case 3:return"Ring";break;case 4:return"Pinky"}}function t(e,n){return e+": "+n[0]+", "+n[1]+", "+n[2]+"<br>"}function i(){m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}function o(){h=new THREE.Scene,m=new THREE.PerspectiveCamera(45,b/P,.1,1e4),m.position.z=260,u=new THREE.WebGLRenderer({antialias:!0,alpha:!1}),u.setSize(b,P),u.setClearColor(2236962),document.getElementById("three").appendChild(u.domElement);var e=new THREE.HemisphereLight(16777215,16777215,.6);e.color.setHSL(.6,1,.6),e.groundColor.setHSL(.095,1,.75),e.position.set(0,30,0),h.add(e);var n=new THREE.BoxGeometry(30,30,30),t=new THREE.MeshPhongMaterial({color:15991028});R=new THREE.Mesh(n,t),h.add(R),y=new SPE.Group({texture:THREE.ImageUtils.loadTexture("./images/smoke.png"),maxAge:2,blending:THREE.AdditiveBlending}),T=new SPE.Emitter({position:new THREE.Vector3(0,-100,50),positionSpread:new THREE.Vector3(50,600,100),acceleration:new THREE.Vector3(.1,.1,.1),colorStart:new THREE.Color("blue"),colorEnd:new THREE.Color("yellow"),sizeStart:3,sizeEnd:3,opacityStart:0,opacityMiddle:1,opacityEnd:0,particleCount:1e3,maxAge:2}),y.addEmitter(T),h.add(y.mesh)}function r(e){requestAnimationFrame(r),g+=.05,void 0!==E&&(m.position.z=E.palmPosition[2]/2+100,m.position.x=E.palmPosition[0]/2,m.position.y=E.palmPosition[1]/2-150,console.log("yaw: "+E.yaw()),console.log("palmpos: "+E.palmPosition)),R.rotation.y+=.01,R.rotation.z+=.01,y.tick(e/1e5),T.position.x=1,u.render(h,m)}var a=document.getElementById("output"),d="",s="",l="",E,c,p="",w={enableGestures:!0};Leap.loop(w,function(n){d=e("frame_id",n.id),d+="<br>";for(var t=0;t<n.hands.length;t++)E=n.hands[t],s=e("hand_type",E.type),s+=e("hand posish",E.palmPosition),s+="<br>",d+=s;a.innerHTML=d});var u,m,h,H,g=0,T,R,y,b=window.innerWidth,P=window.innerHeight;window.addEventListener("resize",i,!1),o(),r()});