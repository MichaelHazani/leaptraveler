"use strict";$(function(){function e(e,n){return e+": "+n+"<br>"}function n(e){switch(e){case 0:return"Thumb";break;case 1:return"Index";break;case 2:return"Middle";break;case 3:return"Ring";break;case 4:return"Pinky"}}function t(e,n){return e+": "+n[0]+", "+n[1]+", "+n[2]+"<br>"}function i(){h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}function o(){m=new THREE.Scene,h=new THREE.PerspectiveCamera(45,P/b,.1,1e4),h.position.z=260,u=new THREE.WebGLRenderer({antialias:!0,alpha:!1}),u.setSize(P,b),u.setClearColor(2236962),document.getElementById("three").appendChild(u.domElement);var e=new THREE.HemisphereLight(16777215,16777215,.6);e.color.setHSL(.6,1,.6),e.groundColor.setHSL(.095,1,.75),e.position.set(0,30,0),m.add(e);var n=new THREE.BoxGeometry(30,30,30),t=new THREE.MeshPhongMaterial({color:15991028});R=new THREE.Mesh(n,t),m.add(R),y=new SPE.Group({texture:THREE.ImageUtils.loadTexture("./images/smoke.png"),maxAge:2,blending:THREE.AdditiveBlending}),T=new SPE.Emitter({position:new THREE.Vector3(0,100,50),positionSpread:new THREE.Vector3(200,300,300),acceleration:new THREE.Vector3(.1,-1,.1),colorStart:new THREE.Color("blue"),colorEnd:new THREE.Color("yellow"),sizeStart:4,sizeEnd:4,opacityStart:1,opacityMiddle:1,opacityEnd:0,particleCount:1e3,maxAge:4}),y.addEmitter(T),m.add(y.mesh)}function r(e){if(requestAnimationFrame(r),g+=.05,void 0!==c){var n=c.yaw(),t=c.pitch();h.position.x=c.palmPosition[0]/2,h.position.y=c.palmPosition[1]/2-150,h.position.z=c.palmPosition[2]/2+100,-.06>n&&(h.rotation.y+=90*Math.PI/5e4),n>.06&&(h.rotation.y-=90*Math.PI/5e4),-.2>t&&(h.rotation.x-=90*Math.PI/25e4),t>.2&&(h.rotation.x+=90*Math.PI/25e4)}R.rotation.y+=.01,R.rotation.z+=.01,y.tick(e/1e5),T.position.x=1,u.render(m,h)}var a=document.getElementById("output"),d="",s="",E="",c,l,p="",w={enableGestures:!0};Leap.loop(w,function(n){d=e("frame_id",n.id),d+="<br>";for(var t=0;t<n.hands.length;t++)c=n.hands[t],s=e("hand_type",c.type),s+=e("hand posish",c.palmPosition),s+="<br>",d+=s;a.innerHTML=d});var u,h,m,H,g=0,T,R,y,P=window.innerWidth,b=window.innerHeight;window.addEventListener("resize",i,!1),o(),r()});